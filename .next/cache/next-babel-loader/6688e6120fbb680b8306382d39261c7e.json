{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/diego/Workspace/microfront-ends/microfront-end-app/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport fetch from 'isomorphic-unfetch';\n\nvar App = function App(_ref) {\n  var headerHtml = _ref.headerHtml,\n      sidebarHtml = _ref.sidebarHtml,\n      contentHtml = _ref.contentHtml;\n  return __jsx(\"div\", {\n    className: \"homepage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, __jsx(\"microfrontend-header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"sidebar\",\n    dangerouslySetInnerHTML: {\n      __html: sidebarHtml\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"content\",\n    dangerouslySetInnerHTML: {\n      __html: contentHtml\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }));\n};\n\nApp.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref2) {\n    var req, content, contentHtml, sidebar, sidebarHtml;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref2.req;\n            _context.next = 3;\n            return fetch('https://microfend-content.herokuapp.com/');\n\n          case 3:\n            content = _context.sent;\n            _context.next = 6;\n            return content.text();\n\n          case 6:\n            contentHtml = _context.sent;\n            _context.next = 9;\n            return fetch('https://microfend-sidebar.herokuapp.com/');\n\n          case 9:\n            sidebar = _context.sent;\n            _context.next = 12;\n            return sidebar.text();\n\n          case 12:\n            sidebarHtml = _context.sent;\n            return _context.abrupt(\"return\", {\n              contentHtml: contentHtml,\n              sidebarHtml: sidebarHtml\n            });\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default App;","map":{"version":3,"sources":["/Users/diego/Workspace/microfront-ends/microfront-end-app/pages/index.js"],"names":["React","useState","useEffect","fetch","App","headerHtml","sidebarHtml","contentHtml","__html","getInitialProps","req","content","text","sidebar"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM,OAA8C;AAAA,MAA3CC,UAA2C,QAA3CA,UAA2C;AAAA,MAA/BC,WAA+B,QAA/BA,WAA+B;AAAA,MAAlBC,WAAkB,QAAlBA,WAAkB;AACtD,SACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAKI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAyB,IAAA,uBAAuB,EAAE;AAAEC,MAAAA,MAAM,EAAEF;AAAV,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAyB,IAAA,uBAAuB,EAAE;AAAEE,MAAAA,MAAM,EAAED;AAAV,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CADJ;AAUH,CAXD;;AAaAH,GAAG,CAACK,eAAJ;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,GAAT,SAASA,GAAT;AAAA;AAAA,mBAIIP,KAAK,CAAC,0CAAD,CAJT;;AAAA;AAIZQ,YAAAA,OAJY;AAAA;AAAA,mBAKQA,OAAO,CAACC,IAAR,EALR;;AAAA;AAKZL,YAAAA,WALY;AAAA;AAAA,mBAOIJ,KAAK,CAAC,0CAAD,CAPT;;AAAA;AAOZU,YAAAA,OAPY;AAAA;AAAA,mBAQQA,OAAO,CAACD,IAAR,EARR;;AAAA;AAQZN,YAAAA,WARY;AAAA,6CAUX;AAAEC,cAAAA,WAAW,EAAXA,WAAF;AAAeD,cAAAA,WAAW,EAAXA;AAAf,aAVW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA;;AAaA,eAAeF,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport fetch from 'isomorphic-unfetch';\n\nconst App = ({ headerHtml, sidebarHtml, contentHtml }) => {\n    return (\n        <div className=\"homepage\">\n            {/* Alternative way to consume a micro front-end - as a Web Component */}\n            <microfrontend-header></microfrontend-header>\n            \n            {/* <div className=\"header\" dangerouslySetInnerHTML={{ __html: headerHtml }}></div> */}\n            <div className=\"sidebar\" dangerouslySetInnerHTML={{ __html: sidebarHtml }}></div>\n            <div className=\"content\" dangerouslySetInnerHTML={{ __html: contentHtml }}></div>\n        </div>\n    );\n}\n\nApp.getInitialProps = async ({ req }) => {\n    // const header = await fetch('https://microfend-header.herokuapp.com/');\n    // const headerHtml = await header.text();\n\n    const content = await fetch('https://microfend-content.herokuapp.com/');\n    const contentHtml = await content.text();\n\n    const sidebar = await fetch('https://microfend-sidebar.herokuapp.com/');\n    const sidebarHtml = await sidebar.text();\n    \n    return { contentHtml, sidebarHtml };\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}